---
title: Docker Compose
description: Running Lumier with Docker Compose
---

For easier management, use Docker Compose instead of raw `docker run` commands.

## Setup

Create `docker-compose.yml`:

```yaml
version: '3'

services:
  lumier:
    image: trycua/lumier:latest
    container_name: lumier-vm
    restart: unless-stopped
    ports:
      - '8006:8006'
    volumes:
      - ./storage:/storage
      - ./shared:/shared
    environment:
      - VM_NAME=lumier-vm
      - VERSION=ghcr.io/trycua/macos-sequoia-cua:latest
      - CPU_CORES=4
      - RAM_SIZE=8192
      - HOST_STORAGE_PATH=${PWD}/storage
      - HOST_SHARED_PATH=${PWD}/shared
    stop_signal: SIGINT
    stop_grace_period: 2m
```

## Run it

```bash
# Create directories
mkdir -p storage shared

# Start in background
docker-compose up -d

# View logs
docker-compose logs -f

# Stop
docker-compose down
```

Access at `http://localhost:8006`.

## Configuration options

| Field                     | Description                          |
| ------------------------- | ------------------------------------ |
| `restart: unless-stopped` | Auto-restart unless manually stopped |
| `stop_grace_period: 2m`   | Wait 2 minutes for graceful shutdown |
| `stop_signal: SIGINT`     | Send interrupt signal to stop        |

## Multiple VMs

Run multiple VMs by adding services:

```yaml
version: '3'

services:
  dev-vm:
    image: trycua/lumier:latest
    ports:
      - '8006:8006'
    environment:
      - VM_NAME=dev-vm
      - VERSION=ghcr.io/trycua/macos-sequoia-cua:latest
      - CPU_CORES=4
      - RAM_SIZE=8192

  test-vm:
    image: trycua/lumier:latest
    ports:
      - '8007:8006'
    environment:
      - VM_NAME=test-vm
      - VERSION=ghcr.io/trycua/macos-sequoia-cua:latest
      - CPU_CORES=2
      - RAM_SIZE=4096
```

Access at `localhost:8006` and `localhost:8007`.
