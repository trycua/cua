---
title: Agent SDK API Reference
description: Python API reference for building computer-use agents
---

{/_
AUTO-GENERATED FILE - DO NOT EDIT DIRECTLY
Generated by: npx tsx scripts/docs-generators/python-sdk.ts
Source: libs/python/agent/agent
Version: 0.7.23
_/}

import { Callout } from 'fumadocs-ui/components/callout';
import { Tabs, Tab } from 'fumadocs-ui/components/tabs';
import { VersionHeader } from '@/components/version-selector';

<VersionHeader
  versions={[
    { version: '0.7', href: '/cua/reference/agent-sdk/api', isCurrent: true },
    { version: '0.6', href: '/cua/reference/agent-sdk/v0.6/api', isCurrent: false },
    { version: '0.5', href: '/cua/reference/agent-sdk/v0.5/api', isCurrent: false },
    { version: '0.4', href: '/cua/reference/agent-sdk/v0.4/api', isCurrent: false },
    { version: '0.3', href: '/cua/reference/agent-sdk/v0.3/api', isCurrent: false },
  ]}
  currentVersion="0.7"
  fullVersion="0.7.23"
  packageName="cua-agent"
/>

agent - Decorator-based Computer Use Agent with liteLLM integration

## Classes

| Class                             | Description                                                            |
| --------------------------------- | ---------------------------------------------------------------------- |
| [`ComputerAgent`](#computeragent) | Main agent class that automatically selects the appropriate agent loop |

## Functions

| Function                            | Description                                      |
| ----------------------------------- | ------------------------------------------------ |
| [`register_agent`](#register_agent) | Decorator to register an AsyncAgentConfig class. |

---

## ComputerAgent

Main agent class that automatically selects the appropriate agent loop
based on the model and executes tool calls.

### Constructor

```python
ComputerAgent(self, model: str, tools: Optional[List[Any]] = None, custom_loop: Optional[Callable] = None, only_n_most_recent_images: Optional[int] = None, callbacks: Optional[List[Any]] = None, instructions: Optional[str] = None, verbosity: Optional[int] = None, trajectory_dir: Optional[str | Path | dict] = None, max_retries: Optional[int] = 3, screenshot_delay: Optional[float | int] = 0.5, use_prompt_caching: Optional[bool] = False, max_trajectory_budget: Optional[float | dict] = None, telemetry_enabled: Optional[bool] = True, trust_remote_code: Optional[bool] = False, api_key: Optional[str] = None, api_base: Optional[str] = None, additional_generation_kwargs = {})
```

### Attributes

| Name                        | Type  | Description |
| --------------------------- | ----- | ----------- |
| `model`                     | `Any` |             |
| `tools`                     | `Any` |             |
| `custom_loop`               | `Any` |             |
| `only_n_most_recent_images` | `Any` |             |
| `callbacks`                 | `Any` |             |
| `instructions`              | `Any` |             |
| `verbosity`                 | `Any` |             |
| `trajectory_dir`            | `Any` |             |
| `max_retries`               | `Any` |             |
| `screenshot_delay`          | `Any` |             |
| `use_prompt_caching`        | `Any` |             |
| `telemetry_enabled`         | `Any` |             |
| `kwargs`                    | `Any` |             |
| `trust_remote_code`         | `Any` |             |
| `api_key`                   | `Any` |             |
| `api_base`                  | `Any` |             |
| `agent_loop`                | `Any` |             |
| `agent_config_info`         | `Any` |             |
| `tool_schemas`              | `Any` |             |
| `computer_handler`          | `Any` |             |

### Methods

#### ComputerAgent.run

```python
async def run(self, messages: Messages, stream: bool = False, api_key: Optional[str] = None, api_base: Optional[str] = None, additional_generation_kwargs = {}) -> AsyncGenerator[Dict[str, Any], None]
```

Run the agent with the given messages using Computer protocol handler pattern.

**Parameters:**

| Name       | Type  | Description                                                                                                                               |
| ---------- | ----- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| `messages` | `Any` | List of message dictionaries                                                                                                              |
| `stream`   | `Any` | Whether to stream the response                                                                                                            |
| `api_key`  | `Any` | Optional API key override for the model provider                                                                                          |
| `api_base` | `Any` | Optional API base URL override for the model provider \*\*additional_generation_kwargs: Additional arguments passed to the model provider |

**Returns:** AsyncGenerator that yields response chunks

#### ComputerAgent.predict_click

```python
async def predict_click(self, instruction: str, image_b64: Optional[str] = None) -> Optional[Tuple[int, int]]
```

Predict click coordinates based on image and instruction.

**Parameters:**

| Name          | Type  | Description                                                           |
| ------------- | ----- | --------------------------------------------------------------------- |
| `instruction` | `Any` | Instruction for where to click                                        |
| `image_b64`   | `Any` | Base64 encoded image (optional, will take screenshot if not provided) |

**Returns:** None or tuple with (x, y) coordinates

#### ComputerAgent.get_capabilities

```python
def get_capabilities(self) -> List[AgentCapability]
```

Get list of capabilities supported by the current agent config.

**Returns:** List of capability strings (e.g., ["step", "click"])

#### ComputerAgent.open

```python
def open(self, port: Optional[int] = None)
```

Start the playground server and open it in the browser.

This method starts a local HTTP server that exposes the /responses endpoint
and automatically opens the Cua playground interface in the default browser.

**Parameters:**

| Name   | Type  | Description                                                                |
| ------ | ----- | -------------------------------------------------------------------------- |
| `port` | `Any` | Port to run the server on. If None, finds an available port automatically. |

**Example:**

```python
>>> agent = ComputerAgent(model="claude-sonnet-4")
>>> agent.open()  # Starts server and opens browser
```

## register_agent

```python
def register_agent(models: str, priority: int = 0, tool_type: Optional[str] = None)
```

Decorator to register an AsyncAgentConfig class.

**Parameters:**

| Name        | Type  | Description                                           |
| ----------- | ----- | ----------------------------------------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `models`    | `Any` | Regex pattern to match supported models               |
| `priority`  | `Any` | Priority for agent selection (higher = more priority) |
| `tool_type` | `Any` | Required tool type for this model ("browser"          | "mobile" | None). Specialized models (like FARA) declare their required tool type, and ComputerAgent will auto-wrap tools accordingly. General models (like Claude) leave this as None for full flexibility. |
