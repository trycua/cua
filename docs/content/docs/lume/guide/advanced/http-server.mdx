---
title: HTTP Server
description: Using the Lume REST API server
---

import { Callout } from 'fumadocs-ui/components/callout';

Lume's HTTP API lets you manage VMs programmaticallyâ€”useful for automation scripts, CI/CD pipelines, and the Computer Use Agent SDK.

```bash
# Start the server
lume serve

# Or on a custom port
lume serve --port 8080
```

<Callout type="info">
If you installed Lume with default settings, the server runs as a background service on port 7777. No need to start it manually.
</Callout>

## Base URL

```
http://localhost:7777
```

## Quick examples

### List VMs

```bash
curl http://localhost:7777/lume/vms
```

### Run a VM

```bash
curl -X POST http://localhost:7777/lume/vms/my-vm/run \
  -H "Content-Type: application/json" \
  -d '{"noDisplay": true}'
```

### Stop a VM

```bash
curl -X POST http://localhost:7777/lume/vms/my-vm/stop
```

### Create a VM

```bash
curl -X POST http://localhost:7777/lume/vms \
  -H "Content-Type: application/json" \
  -d '{
    "name": "my-vm",
    "os": "macOS",
    "cpu": 4,
    "memory": "8GB",
    "diskSize": "50GB"
  }'
```

### Get VM details

```bash
curl http://localhost:7777/lume/vms/my-vm
```

## Common workflows

### Automation script

```bash
#!/bin/bash
# Start a VM, wait for it, run tests, stop it

curl -X POST localhost:7777/lume/vms/test-vm/run -d '{"noDisplay": true}'
sleep 30  # Wait for boot

# Run your tests here
ssh lume@$(curl -s localhost:7777/lume/vms/test-vm | jq -r '.ip') 'run-tests.sh'

curl -X POST localhost:7777/lume/vms/test-vm/stop
```

### Python integration

The Computer Use Agent SDK connects to Lume's HTTP API:

```python
from cua import Computer

async with Computer() as computer:
    await computer.run("my-vm")
    # Perform automation...
    await computer.stop()
```

## Managing the background service

```bash
# Check if running
launchctl list | grep com.trycua.lume_daemon

# Stop
launchctl unload ~/Library/LaunchAgents/com.trycua.lume_daemon.plist

# Start
launchctl load ~/Library/LaunchAgents/com.trycua.lume_daemon.plist

# View logs
tail -f /tmp/lume_daemon.log
```

## Configuration

The server uses settings from `~/.config/lume/config.yaml`:

- VM storage locations
- Cache settings
- Default resource allocations

See the [FAQ](/lume/guide/getting-started/faq) for more on configuration.

## Full API reference

For all endpoints, request/response formats, and language-specific examples, see the [HTTP API Reference](/lume/reference/http-api).
