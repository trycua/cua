---
title: VM Management
description: Run, configure, and organize your VMs
---

import { Callout } from 'fumadocs-ui/components/callout';

Once you've [created a VM](/lume/guide/getting-started/quickstart), here's how to manage it.

## Quick reference

| Task | Command |
|------|---------|
| List VMs | `lume ls` |
| Get details | `lume get my-vm` |
| Run | `lume run my-vm` |
| Run headless | `lume run my-vm --no-display` |
| Stop | `lume stop my-vm` |
| Clone | `lume clone my-vm backup` |
| Delete | `lume delete my-vm` |

## Run a VM

```bash
# Opens VNC window
lume run my-vm

# Headless (for automation)
lume run my-vm --no-display
```

### Share files with your VM

Mount a host directory that appears in the VM at `/Volumes/My Shared Files`:

```bash
lume run my-vm --shared-dir ~/Projects
```

### Attach USB storage

Mount a disk image as USB storage (macOS 15+ only):

```bash
lume run my-vm --usb-storage /path/to/disk.img
```

## Linux VMs

Lume supports Linux VMs using ARM64 ISO images. The workflow differs slightly from macOS.

### Create and install

```bash
# Create empty VM configured for Linux
lume create ubuntu-vm --os linux --cpu 4 --memory 8GB --disk-size 50GB

# First boot: mount installer ISO
lume run ubuntu-vm --mount ~/Downloads/ubuntu-24.04-live-server-arm64.iso

# After installation: run normally
lume run ubuntu-vm
```

Complete the installation in the VNC window, shut down, then run without the ISO.

### Supported distributions

Any ARM64 Linux distribution works. Download the ARM64 (aarch64) ISO, not x86_64:

- **Ubuntu** - [ubuntu.com/download](https://ubuntu.com/download)
- **Debian** - [debian.org](https://www.debian.org/)
- **Fedora** - [fedoraproject.org](https://fedoraproject.org/)

<Callout type="info">
Linux VMs have no licensing restrictions—run as many concurrent instances as your hardware supports. Only macOS VMs are limited to 2 per Mac.
</Callout>

## Stop a VM

```bash
# Graceful shutdown
lume stop my-vm

# Force stop (immediate)
lume stop my-vm --force
```

## Inspect VMs

```bash
# List all VMs with state, CPU, memory, disk
lume ls

# Detailed info for one VM
lume get my-vm
```

`lume get` shows state, resource allocation, network config, and display settings.

## Change VM settings

<Callout type="warn">
Stop the VM before changing settings. Disk size can only increase, not decrease.
</Callout>

```bash
# CPU cores
lume set my-vm --cpu 8

# Memory
lume set my-vm --memory 16GB

# Disk (increase only)
lume set my-vm --disk-size 100GB

# Display resolution
lume set my-vm --display 1920x1080
```

## Clone a VM

Cloning creates a full copy—useful for backups or creating variants:

```bash
lume clone my-vm my-vm-backup
```

Clone between storage locations:

```bash
lume clone my-vm external-copy \
  --source-storage default \
  --dest-storage external-ssd
```

## Delete a VM

```bash
lume delete my-vm

# From specific storage
lume delete my-vm --storage external-ssd
```

## Storage locations

By default, VMs live in `~/.lume`. You can add more locations—useful for external drives or separating projects.

### Configure storage

```bash
# List locations
lume config storage list

# Add a location
lume config storage add external-ssd /Volumes/ExternalSSD/lume

# Set default
lume config storage default external-ssd

# Remove a location
lume config storage remove old-location
```

### Use storage in commands

Most commands accept `--storage` to target a specific location:

```bash
# Create in specific storage
lume create my-vm --os macos --ipsw latest --storage external-ssd

# Run from specific storage
lume run my-vm --storage external-ssd
```

Without `--storage`, Lume uses the default location or searches all locations.

### Move a VM between locations

Clone to the new location, then delete the original:

```bash
lume clone my-vm my-vm --source-storage default --dest-storage external-ssd
lume delete my-vm --storage default
```

## Image caching

When pulling images from a registry, Lume can cache layers locally for faster future pulls. Caching is **disabled by default** to save disk space.

```bash
# Enable caching
lume config caching set true

# Set cache directory
lume config cache set /path/to/cache

# View current config
lume config get

# Clear cache
lume prune
```

<Callout type="info">
Enable caching if you frequently pull the same images or images sharing base layers. With caching disabled, each `lume pull` downloads everything fresh.
</Callout>

## What's next

- [Automate setup](/lume/guide/fundamentals/unattended-setup) with YAML configurations
- [Use the HTTP API](/lume/guide/advanced/http-server) for programmatic access
- See all options in the [CLI Reference](/lume/reference/cli-reference)
